<form method="post" th:object="${userBindingModel}" th:fragment="register-edit-form (type)">
    <div class="form-group" th:classappend="${#fields.hasErrors('username')} ? 'has-danger'">
        <label class="form-control-label" th:for=username>Username</label>
        <input type="text" class="form-control" th:field="*{username}">
        <div class="form-control-feedback" th:each="error : ${#fields.errors('username')}" th:text="${error}"></div>
    </div>
    <div class="form-group" th:classappend="${#fields.hasErrors('email')} ? 'has-danger'">
        <label class="form-control-label" th:for=username>Email</label>
        <input type="text" class="form-control" th:field="*{email}">
        <div class="form-control-feedback" th:each="error : ${#fields.errors('email')}" th:text="${error}"></div>
    </div>
    <div class="form-group" th:classappend="${#fields.hasErrors('password')} ? 'has-danger'">
        <label class="form-control-label" th:for=password>Pasword</label>
        <input type="password" class="form-control" th:field="*{password}">
        <div class="form-control-feedback" th:each="error : ${#fields.errors('password')}" th:text="${error}"></div>
    </div>
    <div class="form-group" th:classappend="${#fields.hasErrors('global')} ? 'has-danger'">
        <label class="form-control-label" th:for=confirmPassword>Confirm Password</label>
        <input type="password" class="form-control" th:field="*{confirmPassword}">
        <div class="form-control-feedback" th:each="error : ${#fields.errors('global')}" th:text="${error}"></div>
    </div>
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
    <input type="submit" class="btn btn-success" th:value="|${#strings.capitalize(type)}">
</form>